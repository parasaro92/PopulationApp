{"version":3,"sources":["scripts/app-a23b1404ac.js"],"names":["angular","module","populationService","$resource","$q","init","baseURL","vm","resourceObj","calculatePercentDiff","array1","array2","len","length","outputArray","i","percentDiff","push","getFormattedArray","inputArray","forEach","element","parseInt","this","getByYearAndCountry","country","year","gender","response","query","get","FIPS","time","SEX","key","deferred","defer","$promise","then","data","splice","formattedArray","resolve","err","reject","promise","getByYears","year1","year2","rsp1","rsp2","all","arrayResult","console","log","getGenderData","$inject","service","populationDistributionController","PopulationService","getData","rsp","responseData","resultList","chartConfig","options","chart","type","series","name","yAxis","title","text","xAxis","loading","controller","genderDistributionController","rspData","ageDistributionController","respData","MainController","runBlock","$log","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","templateUrl","controllerAs","otherwise","config","constant","malarkey","moment","$logProvider","debugEnabled","$templateCache","put"],"mappings":"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","file":"scripts/app-a23b1404ac.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('populationApp', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', \n      'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', \n      'highcharts-ng']);\n\n})();\n\n(function(){\n'use strict';\n\nangular.module('populationApp')\n.service('PopulationService',populationService);\n\nfunction populationService($resource,$q){\n  var vm = this;\n  function init(){\n    var baseURL = 'http://api.census.gov/data/timeseries/idb/1year';\n    vm.resourceObj = $resource(baseURL);\n  }\n\n  vm.getByYearAndCountry = function(country,year,gender){\n    if (!gender){\n      gender = 0;\n    }\n    var response = vm.resourceObj.query({\n      get:'AREA_KM2,NAME,AGE,POP',\n      FIPS: country,\n      time: year,\n      SEX: gender,\n      key: '3eebf698ef6c8df04e320bd0f4a6d0eda8e3bd33'\n    });\n    var deferred = $q.defer();\n    response.$promise.then(function(data){\n      data.splice(0,1);\n      // Create a new Array to just hold the population\n      var formattedArray = getFormattedArray(data);\n      deferred.resolve(formattedArray);\n    },function(err){\n      deferred.reject(err);\n    });\n    return deferred.promise;\n  }\n\n  vm.getByYears = function(country,year1,year2){\n    var rsp1 = vm.getByYearAndCountry(country,year1);\n    var rsp2 = vm.getByYearAndCountry(country,year2);\n    var deferred = $q.defer();\n    $q.all([rsp1,rsp2]).then(function(arrayResult){\n      var formattedArray = calculatePercentDiff(arrayResult[0],arrayResult[1]);\n      deferred.resolve(formattedArray);\n    },function(err){\n      console.log(err);\n      deferred.reject(err);\n    });\n    return deferred.promise;\n  }\n\n  vm.getGenderData = function(country,year){\n    var rsp1 = vm.getByYearAndCountry(country,year,1);\n    var rsp2 = vm.getByYearAndCountry(country,year,2);\n    var deferred = $q.defer();\n    $q.all([rsp1,rsp2]).then(function(arrayResult){\n      deferred.resolve(arrayResult);\n    },function(err){\n      console.log(err);\n      deferred.reject(err);\n    });\n    return deferred.promise;\n  }\n\n  function calculatePercentDiff(array1,array2){\n    var len = array1.length;\n    var outputArray = [];\n    for(var i = 0; i < len; i++){\n      var percentDiff = ((array2[i] - array1[i])/array1[i])*100;\n      outputArray.push(percentDiff) \n    }\n    return outputArray;\n  }\n\n  function getFormattedArray(inputArray){\n    var outputArray = [];\n    angular.forEach(inputArray,function(element){\n      outputArray.push(parseInt(element[3]));\n    })\n    return outputArray;\n  }\n\n  init();\n}\n\n})();\n  (function(){\n  'use strict';\n  \n    angular\n    .module('populationApp')\n    .controller('PopulationDistributionController', populationDistributionController);\n\n    function populationDistributionController(PopulationService){\n\n      var vm = this;\n\n      function init(){\n        // Setting default values\n        vm.year = '2010';\n        vm.country = 'IN';\n      }\n\n      vm.getData = function(){\n        var rsp = PopulationService.getByYearAndCountry(vm.country,vm.year);\n        rsp.then(function(responseData){\n          vm.resultList = responseData;\n          vm.chartConfig = {\n            options: {\n              chart: {\n                type: 'column'\n              }\n            },\n            series: [{\n              name: '',\n              data: responseData\n            }],\n            yAxis: {\n              title: {text: 'Population'},\n            },\n            xAxis: {\n              title: {text: 'Age'},\n            },            \n            title: {\n              text: 'Population distribution over age of '+vm.country\n              +' for the year '+vm.year\n            },\n\n            loading: false\n          }\n        },function(err){\n          console.log(err);\n        });\n        \n      }\n\n      init();\n    }  \n\n  })();\n\n(function(){\n  'use strict';\n  angular.module('populationApp')\n  .controller('GenderDistributionController',genderDistributionController);\n\n  function genderDistributionController(PopulationService){\n    var vm = this;\n\n    function init(){\n        // Setting default values\n        vm.year = '2010';\n        vm.country = 'IN';\n    }\n\n    vm.getData = function(){\n      var rsp = PopulationService.getGenderData(vm.country,vm.year);\n      rsp.then(function(rspData){\n        vm.resultList = rspData;\n        vm.chartConfig = {\n          options: {\n            chart: {\n              type: 'line'\n            }\n          },\n          series: [{\n            name: 'Male',\n            data: rspData[0]\n          },{\n            name:'Female',\n            data: rspData[1] \n          }],\n          yAxis: {\n            title: {text: 'Population'},\n          },\n          xAxis: {\n            title: {text: 'Age'},\n          },            \n          title: {\n            text: 'Gender distribution over age'\n          },\n\n          loading: false\n        }\n\n      },function(err){\n        console.log('Error retrieving data');\n      })\n      \n    }\n\n    init();\n  }\n\n})();\n(function(){\n  'use strict';\n\n  angular.module('populationApp')\n  .controller('AgeDistributionController',ageDistributionController);\n\n  function ageDistributionController(PopulationService){\n    var vm = this;\n\n    function init(){\n        // Setting default values\n        vm.year1 = '2010';\n        vm.year2 = '2014';\n        vm.country = 'IN';\n    }\n\n    vm.getData = function(){\n      var rsp = PopulationService.getByYears(vm.country,vm.year1,vm.year2);\n      rsp.then(function(respData){\n        vm.resultList = respData;\n        vm.chartConfig = {\n          options: {\n            chart: {\n              type: 'line'\n            }\n          },\n          series: [{\n            name: 'Percent Change',\n            data: respData\n          }],\n          yAxis: {\n            title: {text: 'Population Change Percent'},\n          },\n          xAxis: {\n            title: {text: 'Age'},\n          },            \n          title: {\n            text: 'Population change over age'\n          },\n\n          loading: false\n        }\n      },function(err){\n        console.log(err);\n      });\n    }\n\n    init();\n  }\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('populationApp')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController() {\n    var vm = this;\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('populationApp')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('populationApp')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main',\n      }).state('populationDistribution', {\n        url: '/populationDistribution',\n        templateUrl: 'app/components/PopulationDistribution/index.html',\n        controller: 'PopulationDistributionController',\n        controllerAs: 'ctrl'\n      }).state('ageDistribution', {\n        url: '/ageDistribution',\n        templateUrl: 'app/components/AgeDistribution/index.html',\n        controller: 'AgeDistributionController',\n        controllerAs: 'ctrl'\n      }).state('genderDistribution', {\n        url: '/genderDistribution',\n        templateUrl: 'app/components/GenderDistribution/index.html',\n        controller: 'GenderDistributionController',\n        controllerAs: 'ctrl'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('populationApp')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('populationApp')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n  }\n\n})();\n\nangular.module(\"populationApp\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=\\\"container\\\"><div class=\\\"well\\\"><h3>Get all info about pop stats here</h3><p>See the trends of population growth across countries. Represented in eye pleasing and easily understandable charts.</p></div></div>\");\n$templateCache.put(\"app/components/AgeDistribution/index.html\",\"<div class=\\\"well text-center\\\"><h3>Change in Population Distribution for country over the years</h3></div><label for=\\\"select\\\" class=\\\"col-lg-2 col-sm-6 control-label\\\">Select Country</label><div class=\\\"col-lg-2 col-sm-6\\\"><select class=\\\"form-control\\\" id=\\\"selectCountry\\\" ng-model=\\\"ctrl.country\\\"><option value=\\\"IN\\\">India</option><option value=\\\"US\\\">United States</option><option value=\\\"UK\\\">United Kingdom</option><option value=\\\"CA\\\">Cananda</option></select></div><label for=\\\"select\\\" class=\\\"col-lg-2 col-sm-6 control-label\\\">Select Year</label><div class=\\\"col-lg-2 col-sm-6\\\"><select class=\\\"form-control\\\" id=\\\"selectYear\\\" ng-model=\\\"ctrl.year1\\\"><option value=\\\"2010\\\">2010</option><option value=\\\"2011\\\">2011</option><option value=\\\"2012\\\">2012</option><option value=\\\"2013\\\">2013</option><option value=\\\"2014\\\">2014</option></select></div><label for=\\\"select\\\" class=\\\"col-lg-2 control-label\\\">Select Year</label><div class=\\\"col-lg-2\\\"><select class=\\\"form-control\\\" id=\\\"selectYear\\\" ng-model=\\\"ctrl.year2\\\"><option value=\\\"2010\\\">2010</option><option value=\\\"2011\\\">2011</option><option value=\\\"2012\\\">2012</option><option value=\\\"2013\\\">2013</option><option value=\\\"2014\\\">2014</option></select></div><br><br><div class=\\\"col-lg-12 text-center\\\"><a href=\\\"\\\" class=\\\"btn btn-primary btn-lg\\\" ng-click=\\\"ctrl.getData()\\\">Get Data</a></div><highchart id=\\\"chart3\\\" config=\\\"ctrl.chartConfig\\\" class=\\\"col-lg-12\\\" ng-show=\\\"ctrl.resultList\\\"></highchart>\");\n$templateCache.put(\"app/components/GenderDistribution/index.html\",\"<div class=\\\"well text-center\\\"><h3>Gender Distribution by country and year</h3></div><label for=\\\"select\\\" class=\\\"col-lg-2 col-sm-6 control-label\\\">Select Country</label><div class=\\\"col-lg-4 col-sm-6\\\"><select class=\\\"form-control\\\" id=\\\"selectCountry\\\" ng-model=\\\"ctrl.country\\\"><option value=\\\"IN\\\">India</option><option value=\\\"US\\\">United States</option><option value=\\\"UK\\\">United Kingdom</option><option value=\\\"CA\\\">Cananda</option></select></div><label for=\\\"select\\\" class=\\\"col-lg-2 col-sm-6 control-label\\\">Select Year</label><div class=\\\"col-lg-4 col-sm-6\\\"><select class=\\\"form-control\\\" id=\\\"selectYear\\\" ng-model=\\\"ctrl.year\\\"><option value=\\\"2010\\\">2010</option><option value=\\\"2011\\\">2011</option><option value=\\\"2012\\\">2012</option><option value=\\\"2013\\\">2013</option><option value=\\\"2014\\\">2014</option></select></div><br><br><div class=\\\"col-lg-12 text-center\\\"><a href=\\\"\\\" class=\\\"btn btn-primary btn-lg\\\" ng-click=\\\"ctrl.getData()\\\">Get Data</a></div><highchart id=\\\"chart2\\\" config=\\\"ctrl.chartConfig\\\" class=\\\"col-lg-12\\\" ng-show=\\\"ctrl.resultList\\\"></highchart>\");\n$templateCache.put(\"app/components/PopulationDistribution/index.html\",\"<div class=\\\"well text-center\\\"><h3>Population Distribution by country and year</h3></div><label for=\\\"select\\\" class=\\\"col-lg-2 col-sm-6 control-label\\\">Select Country</label><div class=\\\"col-lg-4 col-sm-6\\\"><select class=\\\"form-control\\\" id=\\\"selectCountry\\\" ng-model=\\\"ctrl.country\\\"><option value=\\\"IN\\\">India</option><option value=\\\"US\\\">United States</option><option value=\\\"UK\\\">United Kingdom</option><option value=\\\"CA\\\">Cananda</option></select></div><label for=\\\"select\\\" class=\\\"col-lg-2 col-sm-6 control-label\\\">Select Year</label><div class=\\\"col-lg-4 col-sm-6\\\"><select class=\\\"form-control\\\" id=\\\"selectYear\\\" ng-model=\\\"ctrl.year\\\"><option value=\\\"2010\\\">2010</option><option value=\\\"2011\\\">2011</option><option value=\\\"2012\\\">2012</option><option value=\\\"2013\\\">2013</option><option value=\\\"2014\\\">2014</option></select></div><br><br><div class=\\\"col-lg-12 text-center\\\"><a href=\\\"\\\" class=\\\"btn btn-primary btn-lg\\\" ng-click=\\\"ctrl.getData()\\\">Get Data</a></div><highchart id=\\\"chart1\\\" config=\\\"ctrl.chartConfig\\\" class=\\\"col-lg-12\\\" ng-show=\\\"ctrl.resultList\\\"></highchart>\");}]);"],"sourceRoot":"/source/"}